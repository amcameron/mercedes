var expect = require("chai").expect;
var mkvmerge = require("../lib/mkvmerge.js");

describe("MkvMerge", function () {
	describe("#parseSrt()", function () {
		it("should parse .srt filepath and extract lang", function () {
			var mkvmodule = require('../lib/mkvmerge.js');
			var results = mkvmodule({verbose: true}).__testonly__.parseSrt("/users/malzola/All Is Lost.spa.str");

			expect(results).to.have.a.property("lang", "spa");
		});
	});

	describe("#getCmdLine()", function () {
		it("should obtain cmdline from video file and srt files", function () {
			var mkvmodule = require('../lib/mkvmerge.js');
			var results = mkvmodule({verbose: true, spa_enc: 'windows-1252'}).__testonly__.getCmdLine("/home/malzola-ubuntu/Desarrollo/projects/js/node-videotools-cli/test/test_files","PEPE POTAMO.divx");

			expect(results).not.to.be.empty;
		});
	});

});
