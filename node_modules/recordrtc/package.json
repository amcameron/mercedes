{
  "name": "recordrtc",
  "preferGlobal": true,
  "version": "4.0.0",
  "author": {
    "name": "Muaz Khan",
    "email": "muazkh@gmail.com"
  },
  "description": "RecordRTC is a server-less (entire client-side) JavaScript library can be used to record WebRTC audio/video media streams. It supports cross-browser audio/video recording.",
  "contributors": [
    {
      "name": "Muaz Khan",
      "email": "muazkh@gmail.com"
    }
  ],
  "scripts": {
    "start": "node RecordRTC.js"
  },
  "main": "./RecordRTC.js",
  "repository": {
    "type": "git",
    "url": "https://github.com/muaz-khan/WebRTC-Experiment.git"
  },
  "keywords": [
    "webrtc",
    "RecordRTC",
    "audio-recording",
    "video-recording",
    "gif-recording",
    "audio/video recording"
  ],
  "analyze": false,
  "license": "MIT",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/muaz-khan/WebRTC-Experiment/issues"
  },
  "homepage": "https://github.com/muaz-khan/WebRTC-Experiment/tree/master/RecordRTC/RecordRTC-to-Nodejs",
  "_id": "recordrtc@4.0.0",
  "_from": "recordrtc@",
  "readme": "## [RecordRTC](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/RecordRTC): [WebRTC](https://www.webrtc-experiment.com/) audio/video recording / [Demo](https://www.webrtc-experiment.com/RecordRTC/)\n\n[RecordRTC](https://www.webrtc-experiment.com/RecordRTC/) is a server-less (entire client-side) JavaScript library can be used to record WebRTC audio/video media streams. It supports cross-browser audio/video recording.\n\n```javascript\n// Browsers Support::\n// Chrome (all versions) [ audio/video individually ]\n// Firefox ( >= 29 ) [ audio/video in single webm/mp4 container or only audio in ogg ]\n// Opera (all versions) [ same as chrome ]\n// Android (Chrome) [ only video ]\n// Android (Opera) [ only video ]\n// Android (Firefox) [ only video ]\n```\n\n<a href=\"https://nodei.co/npm/recordrtc/\">\n    <img src=\"https://nodei.co/npm/recordrtc.png\">\n</a>\n\n```\nnpm install recordrtc\n```\n\nTo use it:\n\n```htm\n<script src=\"./node_modules/recordrtc/RecordRTC.js\"></script>\n```\n\nThere are some other NPM packages regarding RecordRTC:\n\n* https://www.npmjs.org/search?q=RecordRTC\n\n=\n\n## How RecordRTC encodes wav/webm?\n\n|Media File|Bitrate/Framerate|encoders|Framesize|additional info|\n| ------------- |-------------|-------------|-------------|-------------|\n|Audio File (WAV) | 1411 kbps | pcm_s16le |44100 Hz|stereo, s16|\n|Video File (WebM)|60 kb/s | (whammy) vp8 codec yuv420p|--|SAR 1:1 DAR 4:3, 1k tbr, 1k tbn, 1k tbc (default)|\n\n=\n\n1. [RecordRTC to Node.js](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/RecordRTC/RecordRTC-to-Nodejs)\n2. [RecordRTC to PHP](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/RecordRTC/RecordRTC-to-PHP)\n3. [RecordRTC to ASP.NET MVC](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/RecordRTC/RecordRTC-to-ASPNETMVC)\n4. [RecordRTC & HTML-2-Canvas i.e. Canvas/HTML Recording!](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/RecordRTC/Canvas-Recording)\n5. [MRecordRTC i.e. Multi-RecordRTC!](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/RecordRTC/MRecordRTC)\n6. [RecordRTC on Ruby!](https://github.com/cbetta/record-rtc-experiment)\n7. [RecordRTC over Socket.io](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/RecordRTC/RecordRTC-over-Socketio)\n8. [ffmpeg-asm.js and RecordRTC! Audio/Video Merging & Transcoding!](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/ffmpeg)\n9. [RecordRTC / PHP / FFmpeg](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/RecordRTC/PHP-and-FFmpeg)\n10. [Record Audio and upload to Nodejs server](https://www.npmjs.org/package/record-audio)\n\n=\n\n```html\n<script src=\"//www.WebRTC-Experiment.com/RecordRTC.js\"></script>\n```\n\n=\n\n#### How to record audio+video on Firefox >= 29?\n\nYou'll be recording both audio/video in single WebM container. Though you can edit RecordRTC.js to record in mp4.\n\n```javascript\nvar session = {\n    audio: true,\n    video: true\n};\n\nnavigator.getUserMedia(session, function (mediaStream) {\n    window.recordRTC = RecordRTC(MediaStream);\n    recordRTC.startRecording();\n}, onError);\n\nbtnStopRecording.onclick = function () {\n    recordRTC.stopRecording(function (audioVideoWebMURL) {\n        window.open(audioVideoWebMURL);\n    });\n};\n```\n\nDemo: https://www.webrtc-experiment.com/RecordRTC/AudioVideo-on-Firefox.html\n\n=\n\n#### How to record audio?\n\n```javascript\nvar recordRTC = RecordRTC(mediaStream);\nrecordRTC.startRecording();\nrecordRTC.stopRecording(function(audioURL) {\n   mediaElement.src = audioURL;\n});\n```\n\nRemember, you need to invoke `navigator.getUserMedia` method yourself; it is too easy to use!\n\n```javascript\nnavigator.getUserMedia({audio: true}, function(mediaStream) {\n   window.recordRTC = RecordRTC(MediaStream);\n   recordRTC.startRecording();\n});\n\nbtnStopRecording.onclick = function() {\n   recordRTC.stopRecording(function(audioURL) {\n      window.open(audioURL);\n   });\n};\n```\n\nAlso, you don't need to use prefixed versions of `getUserMedia` and `URL` objects. RecordRTC auto handles such things for you! Just use non-prefixed version:\n\n```javascript\nnavigator.getUserMedia(media_constraints, onsuccess, onfailure);\nURL.createObjectURL(MediaStream);\n```\n\n#### How to fix audio echo issues?\n\nSimply set `volume=0` or `muted=true`:\n\n```javascript\nnavigator.getUserMedia({audio: true}, function(mediaStream) {\n   audioElement.volume = 0;\n   audioElement.src = URL.createObjectURL(mediaStream);\n   audioElement.play();\n});\n```\n\nOr otherwise use `googEchoCancellation` and other experimental constraints from [here](https://chromium.googlesource.com/external/webrtc/+/master/talk/app/webrtc/mediaconstraintsinterface.cc).\n\n=\n\n#### How to record video?\n\nEverything is optional except `type:'video'`:\n\n```javascript\nvar options = {\n   type: 'video'\n};\nvar recordRTC = RecordRTC(mediaStream, options);\nrecordRTC.startRecording();\nrecordRTC.stopRecording(function(videoURL) {\n   mediaElement.src = videoURL;\n});\n```\n\n=\n\n#### How to fix audio/video sync issues on chrome?\n\n```javascript\nrecordAudio = RecordRTC( stream, {\n     onAudioProcessStarted: function( ) {\n         recordVideo.startRecording();\n     }\n});\n\nrecordVideo = RecordRTC(stream, {\n    type: 'video'\n});\n\nrecordAudio.startRecording();\n```\n\n`onAudioProcessStarted` fixes shared/exclusive audio gap (a little bit). Because shared audio sometimes causes 100ms delay...\nsometime about 400-to-500 ms delay. \nDelay depends upon number of applications concurrently requesting same audio devices and CPU/Memory available. \nShared mode is the only mode currently available on 90% of windows systems especially on windows 7.\n\n=\n\n##### How to record animated GIF image?\n\nEverything is optional except `type:'gif'`:\n\n```javascript\nvar options = {\n   type: 'gif',\n   frameRate: 200,\n   quality: 10\n};\nvar recordRTC = RecordRTC(mediaStream, options);\nrecordRTC.startRecording();\nrecordRTC.stopRecording(function(gifURL) {\n   mediaElement.src = gifURL;\n});\n```\n\n=\n\n##### How to record HTML2Canvas?\n\nYou can say it: \"HTML/Canvas Recording using RecordRTC\"!\n\n```html\n<script src=\"//www.WebRTC-Experiment.com/RecordRTC.js\"></script>\n<script src=\"//www.webrtc-experiment.com/screenshot.js\"></script>\n<div id=\"elementToShare\" style=\"width:100%;height:100%;background:green;\"></div>\n<script>\nvar elementToShare = document.getElementById('elementToShare');\nvar recordRTC = RecordRTC(elementToShare, {\n    type: 'canvas'\n});\nrecordRTC.startRecording();\nrecordRTC.stopRecording(function(url) {\n    window.open(url);\n});\n</script>\n```\n\nSee a demo: https://www.webrtc-experiment.com/RecordRTC/Canvas-Recording/\n\n=\n\n##### `autoWriteToDisk`\n\nUsing `autoWriteToDisk`; you can suggest RecordRTC to auto-write to indexed-db as soon as you call `stopRecording` method.\n\n```javascript\nvar recordRTC = RecordRTC(MediaStream, {\n    autoWriteToDisk: true\n});\n```\n\n`autoWriteToDisk` is helpful for single stream recording and writing to disk; however for `MRecordRTC`; `writeToDisk` is preferred one.\n\n=\n\n##### `writeToDisk`\n\nYou can write recorded blob to disk using `writeToDisk` method:\n\n```javascript\nrecordRTC.stopRecording();\nrecordRTC.writeToDisk();\n```\n\n=\n\n##### `getFromDisk`\n\nYou can get recorded blob from disk using `getFromDisk` method:\n\n```javascript\n// get all blobs from disk\nRecordRTC.getFromDisk('all', function(dataURL, type) {\n   type == 'audio'\n   type == 'video'\n   type == 'gif'\n});\n\n// or get just single blob\nRecordRTC.getFromDisk('audio', function(dataURL) {\n   // only audio blob is returned from disk!\n});\n```\n\nFor [MRecordRTC](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/RecordRTC/MRecordRTC); you can use word `MRecordRTC` instead of `RecordRTC`!\n\nAnother possible situation!\n\n```javascript\nvar recordRTC = RecordRTC(mediaStream);\nrecordRTC.startRecording();\nrecordRTC.stopRecording(function(audioURL) {\n   mediaElement.src = audioURL;\n});\n\n// \"recordRTC\" instance object to invoke \"getFromDisk\" method!\nrecordRTC.getFromDisk(function(dataURL) {\n   // audio blob is automaticlaly returned from disk!\n});\n```\n\nIn the above example; you can see that `recordRTC` instance object is used instead of global `RecordRTC` object.\n\n=\n\n##### How to set video width/height?\n\n```javascript\nvar options = {\n   type: 'video',\n   video: {\n      width: 320,\n      height: 240\n   },\n   canvas: {\n      width: 320,\n      height: 240\n   }\n};\n```\n\n=\n\n##### How to get DataURL?\n\n```javascript\nrecordRTC.getDataURL(function(dataURL) {\n   mediaElement.src = dataURL;\n});\n```\n\n=\n\n##### How to get `Blob` object?\n\n```javascript\nblob = recordRTC.getBlob();\n```\n\n=\n\n##### How to get Virtual-URL?\n\n```javascript\nwindow.open( recordRTC.toURL() );\n```\n\n=\n\n##### How to invoke save-to-disk dialog?\n\n```javascript\nrecordRTC.save();\n```\n\n=\n\n##### How to customize Buffer-Size for audio recording?\n\n```javascript\n// From the spec: This value controls how frequently the audioprocess event is \n// dispatched and how many sample-frames need to be processed each call. \n// Lower values for buffer size will result in a lower (better) latency. \n// Higher values will be necessary to avoid audio breakup and glitches\n// bug: how to minimize wav size?\n// workaround? obviously ffmpeg!\n// The size of the buffer (in sample-frames) which needs to \n// be processed each time onprocessaudio is called. \n\n// Legal values are (256, 512, 1024, 2048, 4096, 8192, 16384). \n\nvar options = {\n   bufferSize: 16384\n};\nvar recordRTC = RecordRTC(audioStream, options);\n```\n\nFollowing values are allowed for buffer-size:\n\n```javascript\n// Legal values are (256, 512, 1024, 2048, 4096, 8192, 16384)\n```\n\nYou can write like this:\n\n```javascript\nvar options = {\n   'buffer-size': 16384\n};\n```\n\n=\n\n##### How to customize Sample-Rate for audio recording?\n\n```javascript\n// The sample rate (in sample-frames per second) at which the \n// AudioContext handles audio. It is assumed that all AudioNodes \n// in the context run at this rate. In making this assumption, \n// sample-rate converters or \"varispeed\" processors are not supported \n// in real-time processing.\n// The sampleRate parameter describes the sample-rate of the \n// linear PCM audio data in the buffer in sample-frames per second. \n\n// An implementation must support sample-rates in at least \n// the range 22050 to 96000.\n\nvar options = {\n   sampleRate: 96000\n};\nvar recordRTC = RecordRTC(audioStream, options);\n```\n\nValues for sample-rate must be greater than or equal to 22050 and less than or equal to 96000.\n\nYou can write like this:\n\n```javascript\nvar options = {\n   'sample-rate': 16384\n};\n```\n\n=\n\n##### Is WinXP supported?\n\nNo WinXP SP2 support. However, RecordRTC works on WinXP Service Pack 3.\n\n=\n\n##### Is Chrome on Android supported?\n\nRecordRTC uses WebAudio API for stereo-audio recording. AFAIK, WebAudio is not supported on android chrome releases, yet.\n\n=\n\n##### Stereo or Mono?\n\nAudio recording fails for `mono` audio. So, try `stereo` audio only.\n\n=\n\n##### Possible issues/failures:\n\nDo you know \"RecordRTC\" fails recording audio because following conditions fails:\n\n1. Sample rate and channel configuration must be the same for input and output sides on Windows i.e. audio input/output devices mismatch\n2. Only the Default microphone device can be used for capturing.\n3. The requesting scheme is none of the following: http, https, chrome, extension's, or file (only works with `--allow-file-access-from-files`)\n4. The browser cannot create/initialize the metadata database for the API under the profile directory\n\nIf you see this error message: `Uncaught Error: SecurityError: DOM Exception 18`; it means that you're using `HTTP`; whilst your webpage is loading worker file (i.e. `audio-recorder.js`) from `HTTPS`. Both files's (i.e. `RecordRTC.js` and `audio-recorder.js`) scheme MUST be same!\n\n=\n\n##### Web Audio APIs requirements\n\n1. If you're on Windows, you have to be running WinXP SP3, Windows Vista or better (will not work on Windows XP SP2 or earlier).\n2. On Windows, audio input hardware must be set to the same sample rate as audio output hardware.\n3. On Mac and Windows, the audio input device must be at least stereo (i.e. a mono/single-channel USB microphone WILL NOT work).\n\n=\n\n##### Why stereo?\n\nIf you explorer chromium code; you'll see that some APIs can only be successfully called for `WAV` files with `stereo` audio.\n\nStereo audio is only supported for WAV files.\n\n...still investigating the actual issue of failure with `mono` audio.\n\n=\n\nMedia Stream Recording API (MediaRecorder object) is being implemented by both Firefox and Chrome. RecordRTC is also using MediaRecorder API for Firefox (nightly).\n\nRecordRTC is unable to record \"mono\" audio on chrome; however it seems that we can covert channels from \"stereo\" to \"mono\" using WebAudio API, though. MediaRecorder API's encoder only support 48k/16k mono audio channel (on Firefox Nightly).\n\n=\n\n##### Browser Support\n\n[RecordRTC Demo](https://www.webrtc-experiment.com/RecordRTC/) works fine on following web-browsers:\n\n| Browser        | Support           |\n| ------------- |-------------|\n| Google Chrome | [Stable](https://www.google.com/intl/en_uk/chrome/browser/) / [Canary](https://www.google.com/intl/en/chrome/browser/canary.html) / [Beta](https://www.google.com/intl/en/chrome/browser/beta.html) / [Dev](https://www.google.com/intl/en/chrome/browser/index.html?extra=devchannel#eula) |\n| Firefox | [Nightly](http://nightly.mozilla.org/) |\n\n=\n\n##### Credits\n\n1. [Recorderjs](https://github.com/mattdiamond/Recorderjs) for audio recording\n2. [whammy](https://github.com/antimatter15/whammy) for video recording\n3. [jsGif](https://github.com/antimatter15/jsgif) for gif recording\n\n=\n\n##### Spec & Reference\n\n1. [Web Audio API](https://dvcs.w3.org/hg/audio/raw-file/tip/webaudio/specification.html)\n2. [MediaRecorder](https://wiki.mozilla.org/Gecko:MediaRecorder)\n3. [Canvas2D](http://www.w3.org/html/wg/drafts/2dcontext/html5_canvas/)\n4. [MediaStream Recording](https://dvcs.w3.org/hg/dap/raw-file/tip/media-stream-capture/MediaRecorder.html)\n5. [Media Capture and Streams](http://www.w3.org/TR/mediacapture-streams/)\n\n=\n\n## License\n\n[RecordRTC.js](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/RecordRTC) is released under [MIT licence](https://www.webrtc-experiment.com/licence/) . Copyright (c) [Muaz Khan](https://plus.google.com/+MuazKhan).\n",
  "_shasum": "504fef0882307686c0c31729df47233e9e4ba6a3",
  "_resolved": "https://registry.npmjs.org/recordrtc/-/recordrtc-4.0.0.tgz"
}
